<link rel="stylesheet" type="text/css" href="wirelog.css" />

<div class="ToolConsumer"><pre>
2014-04-23 18:48:17 -0500
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/aae901d0-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="3eef9c60-ad6a-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7740076816029"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398296897"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="mPcTdepyUOtKFRfThrCwxWgzJdU="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 18:48:21 -0500
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/ad527ae0-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="3eef9c60-ad6a-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5920690977807"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398296901"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="NWUUo6tc8rmIdpgbqZ6eOr8YlpI="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 18:48:28 -0500
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/b17ac910-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="3eef9c60-ad6a-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="2852061347110"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398296908"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="1UIo+hBJOb6JjdW2K0x9RSgh3nk="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 18:49:01 -0500
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c20c1800-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="c20c1520-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="314a5b45525eda485033a7e8ef1a22b4"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-23 18:49:07 -0500
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="c20c1520-ad6f-0131-7c78-20c9d07c6451", oauth_nonce="9988018626149", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398296947", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_signature="7cPNmetck%2Bami3ERjQL76ENNRKE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
X-IMS-EndRegistration-ID: c8464800-ad6f-0131-7c7e-20c9d07c6451


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-23 18:49:07 -0500
Response: Register ToolProxy with ToolConsumer
Status: 411 Length Required
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 303
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Length Required&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Length Required&lt;/H1&gt;
    WEBrick::HTTPStatus::LengthRequired
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 18:49:58 -0500
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/e3bcc440-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="e3bcc1b0-ad6f-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="50f1ee4d9327a421115154bce3a4e398"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-23 18:51:20 -0500
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="e3bcc1b0-ad6f-0131-7c78-20c9d07c6451", oauth_nonce="5820557494349", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398297080", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_signature="UulYzapbG8TBh8c%2BlqE%2Fjs5VL3A%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
X-IMS-EndRegistration-ID: ec993330-ad6f-0131-7c7e-20c9d07c6451


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-23 18:51:20 -0500
Response: Register ToolProxy with ToolConsumer
Status: 411 Length Required
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 303
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Length Required&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Length Required&lt;/H1&gt;
    WEBrick::HTTPStatus::LengthRequired
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 19:07:29 -0500
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/56eb6910-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="56eb6690-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="3bd0c8e2d842b69e450f54c311b0f29c"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-23 19:07:41 -0500
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="56eb6690-ad72-0131-7c78-20c9d07c6451", oauth_nonce="2179209466117", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398298061", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="YWIkVnKQP2RcGVaYu6IQp243E6s%3D", oauth_signature="t3Gi83tJ9ypKxe%2BYNHm%2BFFOisoU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 5d0302b0-ad72-0131-7c7f-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-24T00:07:35Z","lti_version":"LTI-2p0","tool_proxy_guid":"5d02ede0-ad72-0131-7c7f-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/56eb6910-ad72-0131-7c78-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"54038eef396448705133813659ca70db","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-23 19:07:41 -0500
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/6070e220-ad72-0131-7c78-20c9d07c6451",
  "tool_proxy_guid": "6070e220-ad72-0131-7c78-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 19:07:48 -0500
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/646eefb0-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6070e220-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="4354606326846"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398298068"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="DBaU+gdlSpUoEZKek4dtzU1YS6s="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-23 19:07:55 -0500
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6070e220-ad72-0131-7c78-20c9d07c6451", oauth_nonce="9852345432987", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398298075", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="uug8HoUdEbxzGyiru28VKDUIV%2BM%3D", oauth_signature="WsEtXdT28%2FhRzGu9bJv%2F7mTMGkU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5146
X-IMS-EndRegistration-ID: 65ab3e60-ad72-0131-7c7f-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-24T00:07:50Z","lti_version":"LTI-2p0","tool_proxy_guid":"6070e220-ad72-0131-7c78-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/646eefb0-ad72-0131-7c78-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"5cda1b1cfb007a49567b29e4a9d0ee37","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-23 19:07:55 -0500
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 19:13:49 -0500
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="239"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6070e220-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="4269423828340"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398298429"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="rb3uUiSDMAHe4+Bz46J+ueBeah4="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-23 19:13:53 -0500
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="239"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6070e220-ad72-0131-7c78-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3464363294947"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398298433"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="oy+FhZ3GMSdMUunWjOUUulzcUUw="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-28 16:40:39 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/6b0ba280-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="6b0b99a0-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="658263ec896a28d12789f83fd98859ba"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-28 16:40:47 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6b0b99a0-b15c-0131-e9d5-20c9d07c6451", oauth_nonce="4248546458398", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398728447", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="urtsYH96bG7B8%2FZa5iBJl7C0YAU%3D", oauth_signature="fSKP0D1X8a3sLoQ6tTiXrxeyxt4%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 6f324aa0-b15c-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-28T23:40:41Z","lti_version":"LTI-2p0","tool_proxy_guid":"6f3239c0-b15c-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/6b0ba280-b15c-0131-e9d5-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"c6abbf06ef4f827da9b54bcbabdd93bf","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-28 16:40:47 -0700
Response: Register ToolProxy with ToolConsumer
Status: 400 Bad Request
Headers:
content-type: application/json; charset=utf-8
content-length: 779
{
  "errors": [
    [
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/resources/Result/{sourcedId}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  ]
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-28 16:41:26 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/86f128b0-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="86f125f0-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="6b95de354f32f6feb125b1af4a267765"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-28 16:41:31 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="86f125f0-b15c-0131-e9d5-20c9d07c6451", oauth_nonce="7128089541707", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398728491", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="AJeFdMsCzEuwNYqADtyUeVFoTZo%3D", oauth_signature="4JdKD74zy2DB3J2UKEDhRqetgyY%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 8cc24070-b15c-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-28T23:41:31Z","lti_version":"LTI-2p0","tool_proxy_guid":"8cc22f90-b15c-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/86f128b0-b15c-0131-e9d5-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"39d54a2775fb587bfc516c1339703e27","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-28 16:41:31 -0700
Response: Register ToolProxy with ToolConsumer
Status: 400 Bad Request
Headers:
content-type: application/json; charset=utf-8
content-length: 779
{
  "errors": [
    [
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/resources/Result/{sourcedId}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  ]
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-28 16:42:30 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/ad01d970-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="ad01d670-b15c-0131-e9d5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="147d95463aa1cecc20a060bc77f95cee"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-28 16:43:02 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="ad01d670-b15c-0131-e9d5-20c9d07c6451", oauth_nonce="3502499077686", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398728582", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="w11ZIwV7flTDiLvnhX%2FCKaX5FWk%3D", oauth_signature="qVjImdYN1r6BN4jQcZ0%2BJkKkfEI%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: c30ba970-b15c-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-28T23:43:02Z","lti_version":"LTI-2p0","tool_proxy_guid":"c30b9850-b15c-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/ad01d970-b15c-0131-e9d5-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"4bcf1ec35bf58f16aa84006b0197286b","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-28 16:43:02 -0700
Response: Register ToolProxy with ToolConsumer
Status: 400 Bad Request
Headers:
content-type: application/json; charset=utf-8
content-length: 779
{
  "errors": [
    [
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/resources/Result/{sourcedId}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  ]
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-28 16:46:36 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/0d8e45b0-b15d-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="0d8e3e00-b15d-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="6b771c5a61941a3da3097a80aab22560"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-28 16:46:43 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="0d8e3e00-b15d-0131-e9d7-20c9d07c6451", oauth_nonce="4398466639707", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398728803", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="9DMViQw9dVECLGYh6BSGkATlyQU%3D", oauth_signature="l%2BUICnmktGSDuZwU%2BBjLi0tx%2BwU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 46787d60-b15d-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-28T23:46:43Z","lti_version":"LTI-2p0","tool_proxy_guid":"467853a0-b15d-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/0d8e45b0-b15d-0131-e9d7-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"eab40d672802151949bdcdfca6c0bf9a","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-28 16:47:36 -0700
Response: Register ToolProxy with ToolConsumer
Status: 400 Bad Request
Headers:
content-type: application/json; charset=utf-8
content-length: 779
{
  "errors": [
    [
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools",
        "action": [
          "POST"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/resources/Result/{sourcedId}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}",
        "action": [
          "GET",
          "PUT"
        ]
      },
      {
        "@type": "RestServiceProfile",
        "service": "http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}",
        "action": [
          "GET",
          "PUT"
        ]
      }
    ]
  ]
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-28 16:47:49 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/6b1b7640-b15d-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="6b1b7060-b15d-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="fcff08bea255c5bc26e303d00b9e1719"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-28 16:47:53 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6b1b7060-b15d-0131-e9d7-20c9d07c6451", oauth_nonce="9011853390372", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398728873", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="%2FmHgx%2F1ZyP8RNe0n7K0RDCYRxPU%3D", oauth_signature="ZpI9tzfduwbkUkBlwQIGL75JXxU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 70a5dd50-b15d-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-28T23:47:53Z","lti_version":"LTI-2p0","tool_proxy_guid":"70a5ce20-b15d-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/6b1b7640-b15d-0131-e9d7-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"f5a51cd6a4fc97ca47760ca4fa31cb69","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 06:45:43 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/7908e770-b1d2-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="7908dfe0-b1d2-0131-e9d7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="211d0e861e31948ce8e9fc6addfa8254"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 06:45:49 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="7908dfe0-b1d2-0131-e9d7-20c9d07c6451", oauth_nonce="5648757301137", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398779149", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="SKhdLtWcZ1axJgC7BEOQSyJ2kZA%3D", oauth_signature="nISjB3R0xtlvMsU8wy8TJbIFL9E%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 7f66d110-b1d2-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-29T13:45:49Z","lti_version":"LTI-2p0","tool_proxy_guid":"7f66c010-b1d2-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/7908e770-b1d2-0131-e9d7-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"20207906575029e30065d6ae889dba82","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:25:02 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/5853a980-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="58539e40-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="fb5df8a571791096f0255cd968e193c2"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 08:25:08 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="58539e40-b1e0-0131-e9d8-20c9d07c6451", oauth_nonce="6096234152334", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398785108", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="eBan1%2FyVA%2BPteZC5vZffp5smeTw%3D", oauth_signature="0SCN4FH7IMLqJVggLsOH3Qy5%2Bj0%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 5f153ff0-b1e0-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-29T15:25:08Z","lti_version":"LTI-2p0","tool_proxy_guid":"5f152a30-b1e0-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/5853a980-b1e0-0131-e9d8-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"b88e93f336e2b321ff4fb5d3465bbd70","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-29 08:25:28 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/6b0d3d00-b1e0-0131-e9d8-20c9d07c6451",
  "tool_proxy_guid": "6b0d3d00-b1e0-0131-e9d8-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:25:40 -0700
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="257"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6b0d3d00-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7427476557370"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398785140"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="zopU6eQFVucclsAZmI6mURAfnDs="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:26:03 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/7fb4a400-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6b0d3d00-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="6885560987374"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398785163"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="EQLJxQ4PTHhTvQf64LxzmyQQXfY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 08:26:07 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6b0d3d00-b1e0-0131-e9d8-20c9d07c6451", oauth_nonce="3270300386360", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398785167", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="JzhzWka9Eb5Bb%2Fd771g2jP4QDtw%3D", oauth_signature="qGAmJXONNhSh77jiQf%2FCnwP4D7E%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5146
X-IMS-EndRegistration-ID: 8209ee40-b1e0-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-29T15:26:07Z","lti_version":"LTI-2p0","tool_proxy_guid":"6b0d3d00-b1e0-0131-e9d8-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/7fb4a400-b1e0-0131-e9d8-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"dee92104cfc0e773acd5f1ebb0b02294","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-29 08:26:07 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:26:25 -0700
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="257"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6b0d3d00-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8116761145856"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398785185"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="lbBs/BVPniQed4Qdq0nDY7abPXA="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:31:00 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/31105a80-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="6b0d3d00-b1e0-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7795119683231"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398785460"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ghM5wDuNoGKbtjmITgihDdZQ/tw="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:31:53 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/457422e0-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="45741d10-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="564907abf194527e5ba197fc8f08f919"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 08:32:00 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="45741d10-b1e1-0131-e9d8-20c9d07c6451", oauth_nonce="5782478174558", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398785520", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="ifDAvq%2BMPtoco7HLDQXE%2FfhWQXU%3D", oauth_signature="LkY4JqQp%2FYDAxN3KNaADg%2BIXrgw%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5144
X-IMS-EndRegistration-ID: 547cc070-b1e1-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-29T15:32:00Z","lti_version":"LTI-2p0","tool_proxy_guid":"547ca550-b1e1-0131-e9d6-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/457422e0-b1e1-0131-e9d8-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"d3b9a31eef05e5a6e0ca5a7a46c6ab52","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-29 08:32:00 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/548818d0-b1e1-0131-e9d8-20c9d07c6451",
  "tool_proxy_guid": "548818d0-b1e1-0131-e9d8-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 08:32:14 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/5cb88b20-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="548818d0-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3305359493517"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398785534"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ouFndWve6DL5CHyDYI9o3Nn+D7g="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 08:32:17 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="548818d0-b1e1-0131-e9d8-20c9d07c6451", oauth_nonce="7379842759703", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398785537", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="YxXBrRII9Lnv7Nt7PT2llnUEegU%3D", oauth_signature="sSriItX4dJE28ReEyyiPmy98H8w%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5146
X-IMS-EndRegistration-ID: 5ec0f470-b1e1-0131-e9d6-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-29T15:32:17Z","lti_version":"LTI-2p0","tool_proxy_guid":"548818d0-b1e1-0131-e9d8-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/5cb88b20-b1e1-0131-e9d8-20c9d07c6451","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://localhost:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://localhost:5000/lti2_tp/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://localhost:5000"}]},"security_contract":{"shared_secret":"ba2d45cadeddb936e7be43a87bc56425","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-29 08:35:20 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 17:43:45 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/68ab4360-b22e-0131-e9d9-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="548818d0-b1e1-0131-e9d8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8603364906280"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398818625"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="c8XaXber4YTjOY/21dnPMhRJBHc="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 17:44:22 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/7be29870-b22e-0131-e9d9-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="7be291a0-b22e-0131-e9d9-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="608d72f9fcac7b995a461f0aac5dfd48"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-29 17:47:33 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/ee0398c0-b22e-0131-e9da-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="ee0391c0-b22e-0131-e9da-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="6df990e5ba248508b5107f32334267cb"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-29 17:47:39 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="ee0391c0-b22e-0131-e9da-20c9d07c6451", oauth_nonce="9538188795101", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398818859", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="f%2BRgBRwZ4YZ7UXYsct91pbkBnKc%3D", oauth_signature="l%2BhqtXlltUmFB%2BH5Jd8024E3lXE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: f41b4590-b22e-0131-e9db-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T00:47:39Z","lti_version":"LTI-2p0","tool_proxy_guid":"f41b31a0-b22e-0131-e9db-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/ee0398c0-b22e-0131-e9da-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"7522171ad441975bfa0b1ef3bb869e25","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-29 17:47:39 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 381
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `tool_proxy' for #&lt;Lti2Tc::ToolsController:0x007f844cd81198&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 06:10:02 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/a6e97600-b296-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="a6e96790-b296-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="ba2d474bfc493138505e1f1ffc538f45"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 06:10:08 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="a6e96790-b296-0131-e9dc-20c9d07c6451", oauth_nonce="4444505252497", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398863408", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="%2BzORoM4DHoqkAXkWTK%2FXdJIWZGo%3D", oauth_signature="DlEuWfGaNPI5KPjT2G7O0Lu%2BuGQ%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: adb2acd0-b296-0131-e9db-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T13:10:08Z","lti_version":"LTI-2p0","tool_proxy_guid":"adb29b80-b296-0131-e9db-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/a6e97600-b296-0131-e9dc-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"efe98befeb02ccffc6359503875c5bfe","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 06:10:09 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 381
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `tool_proxy' for #&lt;Lti2Tc::ToolsController:0x007ff8878f02f0&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 06:10:23 -0700
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="293"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="adbd40d0-b296-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="6565641812447"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398863423"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="eUU5Yb38CjS9T4uRL0V0rc5XyEg="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:25:07 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/92ad82b0-b2ec-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="92ad12d0-b2ec-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="e6f8f92040fa62b5f66faad861b7be71"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:25:13 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="92ad12d0-b2ec-0131-e9dc-20c9d07c6451", oauth_nonce="2329331473396", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398900313", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="fmwg0%2Bh1bIPALajtIO9IVH6avO0%3D", oauth_signature="fc7sUqrGz2cRaiMstgDyG51UePU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 9a774310-b2ec-0131-e9db-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:25:13Z","lti_version":"LTI-2p0","tool_proxy_guid":"9a773130-b2ec-0131-e9db-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/92ad82b0-b2ec-0131-e9dc-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"d1938dfaa420549f1dc9a11d6b9c8988","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:25:13 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 381
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `tool_proxy' for #&lt;Lti2Tc::ToolsController:0x007ff887d4a620&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:28:01 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/fbd86a30-b2ec-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="fbd86540-b2ec-0131-e9dc-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="a6095590c1ac033e30b9b35ccb7772b1"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:28:40 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="fbd86540-b2ec-0131-e9dc-20c9d07c6451", oauth_nonce="5091271069135", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398900520", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="pGj%2BDuKNxdKXva8JyAxeLdoE%2B7k%3D", oauth_signature="RtUCDxD26KK0TJl3iBy9Skdgl%2BU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 162af0d0-b2ed-0131-e9db-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:28:40Z","lti_version":"LTI-2p0","tool_proxy_guid":"162ad650-b2ed-0131-e9db-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/fbd86a30-b2ec-0131-e9dc-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"ac39c9ecd1f5ac504374d28ed2461c43","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:35:31 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/07649d40-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="07649520-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="109de1bf524c017b2ae32ef35b3d2736"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:35:41 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="07649520-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="281915895823", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398900941", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="DkmdwQqEYf1gJQOK81EDuvtmWJk%3D", oauth_signature="9LPt117C6%2B9NHOvugaG9Lf7CMzk%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 10b08600-b2ee-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:35:41Z","lti_version":"LTI-2p0","tool_proxy_guid":"10b07070-b2ee-0131-e9de-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/07649d40-b2ee-0131-e9dd-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"a8ce6dcf332e9265f3ae194650af4b1e","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:35:46 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/13a14cf0-b2ee-0131-e9dd-20c9d07c6451",
  "tool_proxy_guid": "13a14cf0-b2ee-0131-e9dd-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:37:19 -0700
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="347"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="13a14cf0-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3288213343019"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901039"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="btsuPL/+iylHjz4Q3gaBjxRjCJU="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:38:15 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/6a649120-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="6a648a60-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="5d86ac9ff8e46b8bdc0922aafd2a300a"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:40:10 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6a648a60-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="9740613006428", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901210", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="75XtztfxDqDQkZpuQUkDaEGaoJM%3D", oauth_signature="z5OAsWKzRMngjNQLfXiNMpXd%2ByU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: b125da10-b2ee-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:40:10Z","lti_version":"LTI-2p0","tool_proxy_guid":"b125c5e0-b2ee-0131-e9de-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/6a649120-b2ee-0131-e9dd-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"8470f9359b9f3717c28ff64d6ebbc7c1","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:40:12 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/b2889310-b2ee-0131-e9dd-20c9d07c6451",
  "tool_proxy_guid": "b2889310-b2ee-0131-e9dd-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:41:15 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/d8436ba0-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1299686932788"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901275"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="elVw3EYYaCI0/785TnUqdJE1fpM="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:41:23 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="6816946736716", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901283", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="pRd3ZPwo%2Fy0d1CdzhENhjTCUBZY%3D", oauth_signature="rg6kLjUvcdkQ0HyFCyav%2FWb7SSo%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: dccdfe70-b2ee-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:41:23Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/d8436ba0-b2ee-0131-e9dd-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"bcf8cb6d8f2b452ecfdd025c9c99f5bc","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:42:51 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 356
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `[]' for #&lt;Lti2Commons::JsonWrapper:0x007fcb26ac32c8&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:42:57 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/14b25700-b2ef-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3991684705400"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901377"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="B9PyjoAL27b5lVDFYzqyJr1nLWk="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:43:05 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="1971958627809", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901385", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="R0Vsc7Yj%2BDlDTqoS9Uu4jRXJp5Q%3D", oauth_signature="cEur%2B0DMimzImy4IIHfKrz2D6So%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 198d4fe0-b2ef-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:43:05Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/14b25700-b2ef-0131-e9dd-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"762cbe73b34652265589a354a189abdb","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:43:31 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 356
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `[]' for #&lt;Lti2Commons::JsonWrapper:0x007fcb23f07ad0&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:45:40 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/75ef22e0-b2ef-0131-e9df-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="4787153752242"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901540"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="OK4oXM/aGa9IaUjrCAvM7/f6PJ8="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:45:42 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="3433781106884", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901542", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="shfrDQcnvz0X889pX6vjmcS3Hog%3D", oauth_signature="o%2F4HhgD1koI7GZQKKUeC4038%2ByQ%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 77518770-b2ef-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:45:42Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/75ef22e0-b2ef-0131-e9df-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"5427fb757f6e9c0859787337c84ad08d","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:46:14 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 320
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `each' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:46:18 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/8cd11a90-b2ef-0131-e9df-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3453707321485"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901578"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="XJvZmyp3jG1wYy+UsRgiOMd5iEY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:46:20 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="593525327872", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901580", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="s9RbG868lATYWhsegpzAAvHgVMg%3D", oauth_signature="iBWTHoX6Ev15PUq4tPXU%2FsWxxkw%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 8dd80440-b2ef-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:46:20Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/8cd11a90-b2ef-0131-e9df-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"9d585508f86775636ae3182199e30e02","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:47:57 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 320
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `each' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:48:09 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/ceb329c0-b2ef-0131-e9e0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3009684863164"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901689"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="q8F5KtQsQ8/M6AKCp/ogtDVtjj8="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:48:11 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="348388065565", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901691", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="zf2KnlTs5aNJBnV%2BD5AQUuKEEQw%3D", oauth_signature="CDuGOAglXJea1P0knZZgET8ArS8%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: cfddc250-b2ef-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:48:11Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/ceb329c0-b2ef-0131-e9e0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"3dd953561bb607cfeb6b9200ff64c666","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 16:48:42 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 950
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Missing template lti2_tc/tools/create, lti2_tc/application/create with {:locale=&gt;[:en], :formats=&gt;[:html], :handlers=&gt;[:erb, :builder, :coffee, :arb, :haml]}. Searched in:
  * &quot;/Users/johntibbetts/git/LTI2/tc_sample_app/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/bundler/gems/active_admin-8792fb76573f/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/kaminari-0.15.1/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/devise-3.2.2/app/views&quot;
  * &quot;/Users/johntibbetts/git/LTI2/lti2_tc/app/views&quot;

    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:48:57 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/eb8bbd20-b2ef-0131-e9e0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="6488630905699"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901737"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="XQQQDCYWllGNS4tqxi3ACaGKRsY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:49:00 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="1856859000695", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901740", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="VTkHBGcVJPhmepoZKoZxLY0urT8%3D", oauth_signature="f6hpbrWvG1%2B%2BaQhd2sLfnRIz1e0%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: ece2b140-b2ef-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:49:00Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/eb8bbd20-b2ef-0131-e9e0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"051d478095442fa45d9ee1786c9c8f9c","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 16:50:01 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/116e7500-b2f0-0131-e9e1-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="6638995373023"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398901801"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="5K+2IPlWiJLXsIfexMnrtBZBqCM="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 16:50:03 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="2832895374712", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398901803", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="syVXdSzZvnUstQ0suxIB4afSuwE%3D", oauth_signature="gCcYCnQ10MNsjWsQ4qChMY7lBkc%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 12ad9fb0-b2f0-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-04-30T23:50:03Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/116e7500-b2f0-0131-e9e1-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"e9c4627251a168317229bd942dfa0b62","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:29:59 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/a6f80e90-b2f5-0131-e9e2-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5114385768789"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398904199"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="QdHo4yfwCgk+5OUx1+YYVC0C40g="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:30:02 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="8071876145295", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398904202", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="jRUFHOYByTXQ%2BAmgAIDKSXXF4%2FQ%3D", oauth_signature="24V245FGCUbWb%2FuBkOSlPfr8YJ0%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: a86d6680-b2f5-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:30:02Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/a6f80e90-b2f5-0131-e9e2-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"91991a73a7b846a5832053725c1cf165","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 17:31:09 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 950
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Missing template lti2_tc/tools/create, lti2_tc/application/create with {:locale=&gt;[:en], :formats=&gt;[:html], :handlers=&gt;[:erb, :builder, :coffee, :arb, :haml]}. Searched in:
  * &quot;/Users/johntibbetts/git/LTI2/tc_sample_app/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/bundler/gems/active_admin-8792fb76573f/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/kaminari-0.15.1/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/devise-3.2.2/app/views&quot;
  * &quot;/Users/johntibbetts/git/LTI2/lti2_tc/app/views&quot;

    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:31:21 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/d784e1f0-b2f5-0131-e9e3-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3751893909531"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398904281"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="hYP533xkaZSeEHAP03EAnh09tp8="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:31:23 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="5417873550936", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398904283", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="wcBs8TeBY8Sb72eVSGhhW%2F8UfzM%3D", oauth_signature="C4UTGAA4610zDXHqyaZvsRopGCw%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: d8dbda50-b2f5-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:31:23Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/d784e1f0-b2f5-0131-e9e3-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"8d7143b8fce2b277381deca2e0b377ac","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:32:03 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/f08e0be0-b2f5-0131-e9e4-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="9989615770808"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398904323"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="NPtuqd/X49Ynf21yOUwhhwGYrjg="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:32:05 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="3366607864982", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398904325", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="DGhy68dtVFvBGBIXfERpNJb87dU%3D", oauth_signature="gSMaU0B2Zu%2FcG6nzMbUkjLDp1gI%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: f20ed2a0-b2f5-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:32:05Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/f08e0be0-b2f5-0131-e9e4-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"98c0aae8abb62bd563b08f876eaea8de","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:42:14 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/5d020170-b2f7-0131-e9e4-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="2201873908460"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398904934"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="s6fCCcE4mRUYKDi0tv9siAQoOXA="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:42:16 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="9716235052984", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398904936", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="BmGMvvDwqNETpg9DNXctOlU52wY%3D", oauth_signature="Yq2FehLCS3AU9lfHw259F7Nq1ao%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 5e3419d0-b2f7-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:42:16Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/5d020170-b2f7-0131-e9e4-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"a8b32f85d19400d7691c5addc5d40c3b","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 17:45:10 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 950
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Missing template lti2_tc/tools/create, lti2_tc/application/create with {:locale=&gt;[:en], :formats=&gt;[:html], :handlers=&gt;[:erb, :builder, :coffee, :arb, :haml]}. Searched in:
  * &quot;/Users/johntibbetts/git/LTI2/tc_sample_app/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/bundler/gems/active_admin-8792fb76573f/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/kaminari-0.15.1/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/devise-3.2.2/app/views&quot;
  * &quot;/Users/johntibbetts/git/LTI2/lti2_tc/app/views&quot;

    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:45:15 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c892c3a0-b2f7-0131-e9e4-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7927026257797"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398905115"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="Gz3y4oo5zYIR5333loNW7XuijiM="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:45:17 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="7435531879311", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398905117", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="rSsL5U2dhWExz09J%2B5DFtarUZg0%3D", oauth_signature="Yyb%2Fh%2BCr3ccucARxrBKREHRz8y8%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: c9da1ea0-b2f7-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:45:17Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/c892c3a0-b2f7-0131-e9e4-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"4b455e586476fd8b0f754e5f7def3ecc","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 17:45:35 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 950
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Missing template lti2_tc/tools/create, lti2_tc/application/create with {:locale=&gt;[:en], :formats=&gt;[:html], :handlers=&gt;[:erb, :builder, :coffee, :arb, :haml]}. Searched in:
  * &quot;/Users/johntibbetts/git/LTI2/tc_sample_app/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/bundler/gems/active_admin-8792fb76573f/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/kaminari-0.15.1/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/devise-3.2.2/app/views&quot;
  * &quot;/Users/johntibbetts/git/LTI2/lti2_tc/app/views&quot;

    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:46:41 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/fc068dd0-b2f7-0131-e9e4-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8311140059667"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398905201"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ABfCypobAapSbeyMjy37RkNtnkg="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:55:50 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="4423533812842", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398905750", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="%2BwkP9X4n6udKHiSsPZ0RJ%2FLvk%2BA%3D", oauth_signature="B2uNgHf3%2FX0N9%2F02exZuC%2BdswOo%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 3858f1f0-b2f8-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:47:18Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/fc068dd0-b2f7-0131-e9e4-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"b6fed95fbbdf4b32a8b9c45326de4419","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 17:57:08 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 950
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Missing template lti2_tc/tools/create, lti2_tc/application/create with {:locale=&gt;[:en], :formats=&gt;[:html], :handlers=&gt;[:erb, :builder, :coffee, :arb, :haml]}. Searched in:
  * &quot;/Users/johntibbetts/git/LTI2/tc_sample_app/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/bundler/gems/active_admin-8792fb76573f/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/kaminari-0.15.1/app/views&quot;
  * &quot;/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/gems/1.9.1/gems/devise-3.2.2/app/views&quot;
  * &quot;/Users/johntibbetts/git/LTI2/lti2_tc/app/views&quot;

    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:58:03 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/9240c6a0-b2f9-0131-e9e5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5412180563844"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398905883"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="KWsoFnrZ1pg1b5G/9pLkVttHhW4="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:58:11 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="7031224479204", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398905891", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="hgKxx2P7ys4bXsA6yH6RXoexXh4%3D", oauth_signature="MuHEYBuM4Gkana581l3j2kOIAGE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 977220a0-b2f9-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:58:11Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/9240c6a0-b2f9-0131-e9e5-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"a1a1a42c8eb56e63853e2f70bc3209c0","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 17:59:22 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 318
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `[]' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:59:26 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c3eaea20-b2f9-0131-e9e5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1079004672629"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398905966"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="/Mp3UdyHI3Pf+vOY9KFq6XIcxQc="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 17:59:34 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c9073960-b2f9-0131-e9e5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8698429449082"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398905974"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="YOp0KbjFlxy9paICLVj3tZGL398="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 17:59:36 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="1529919040248", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398905976", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="A7YzznWEesnpZXn1%2Fn5WeTIH7Ls%3D", oauth_signature="zq0wudolel7oSx9pEaouPX3D7yA%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: ca357f80-b2f9-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T00:59:36Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/c9073960-b2f9-0131-e9e5-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"0b7f9df02ac87a8fe564ba26c244c48b","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:01:46 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 318
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `[]' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:02:02 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/21420310-b2fa-0131-e9e5-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3206444037667"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906122"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="DwKUgBrwUlDqSHYASeoaH6hhxKc="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:02:04 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="8398502290594", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906124", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="qI9yMOrGpZtBDEJaggoPp1eY24w%3D", oauth_signature="q6twzu9SwNjH6uVHwFWZ3bCWb%2BE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 226f7ab0-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:02:04Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/21420310-b2fa-0131-e9e5-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"a208fa6567d3d43b0382731432e7589d","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:02:18 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 318
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `[]' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:02:29 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/311be670-b2fa-0131-e9e6-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8299396561422"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906149"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="M4A++GmcMclQGyy97EQHPQxetDA="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:02:31 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="1983338748204", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906151", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="Wd9zUZShx1q8Cszkdl2cGE2t4WQ%3D", oauth_signature="5bb6K0jfECzt%2BZUlrP%2Bbup5mFoo%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 32483d60-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:02:31Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/311be670-b2fa-0131-e9e6-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"79e155b236b90935d5f33a0c98304228","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:03:29 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 402
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `reregistration_service_endpoint' for #&lt;Lti2Tc::ToolsController:0x007f9d527dbcd8&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:03:34 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/5795fa70-b2fa-0131-e9e6-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="659045294201"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906214"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="1rvvLvJceSCsrOYqBW6O6X6C7NQ="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:03:35 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="7836135372147", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906215", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="Jjnb1WikQJNw0uxGDkMEGjf9bMQ%3D", oauth_signature="ZDKNhOGXdY2TC9BXXvwmRPadJRk%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 58ad55c0-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:03:35Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/5795fa70-b2fa-0131-e9e6-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"a9225c7ed513170757c01aec80bfa6ba","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:04:29 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/78d2b900-b2fa-0131-e9e7-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="620691418978"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906269"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="l/PweKew1Qk9FQw0rtsE/9UF+EU="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:04:32 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="7463007747137", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906272", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="h%2FKOO1R%2B3PKS1b8FkpbCVa9got0%3D", oauth_signature="vfK3OorHqOnebTpwg1zTr5gDHxU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 7a6222e0-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:04:32Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/78d2b900-b2fa-0131-e9e7-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"c14467e970614af9e17015bba72f61a6","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:04:45 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 388
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `tc_deployment_url' for #&lt;Lti2Tc::ToolsController:0x007fc863c26a18&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:05:23 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/9902f9f0-b2fa-0131-e9e8-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8528081151025"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906323"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="xtBwf07/zrtnMzQfX9WyPHhnGjY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:05:26 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="5791912315373", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906326", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="0ZrA7CVzQ7jwehbYtT5jVZ%2BacFo%3D", oauth_signature="3wW4LV5JFlwano1NuvjxnW%2Bf5pE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 9a857390-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:05:26Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/9902f9f0-b2fa-0131-e9e8-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"c5dcd9981e6f2b72d9435a79b6cbbdbd","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:06:00 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 380
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined local variable or method `final_uri' for #&lt;Lti2Tc::ToolsController:0x007fc0f1bace80&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:06:29 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c072fe90-b2fa-0131-e9e9-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8689424133500"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906389"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="pPwPXZGE82+OpSRvyJaaqDqfpo0="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:06:32 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="7883691442451", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906392", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="gzOBJD09VtGxzxAPURB5PDY%2FHZo%3D", oauth_signature="fdfF1Kwm%2Bbe8N88luy8bn9ues%2B0%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: c1ae10b0-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:06:31Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/c072fe90-b2fa-0131-e9e9-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"b547f263a859916c4775467604b4c09b","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:07:52 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 346
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `bytesize' for #&lt;StringIO:0x007fcb926ca128&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:08:13 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/fe4ce010-b2fa-0131-e9ea-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3146112727832"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398906493"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="F0LXAUtK4aA788/8SMYCckxWkdo="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:08:15 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="8802026619040", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398906495", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="XzOPxkRn0AgV92Ag6UMmivAzLoE%3D", oauth_signature="AjcfqIk%2FCuxhEZihY5I2ljt1UYI%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: ff8713d0-b2fa-0131-e9de-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:08:15Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/fe4ce010-b2fa-0131-e9ea-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"395575cb171f9e6b410f2f68dfd565a6","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:17:35 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/4d45f000-b2fc-0131-e9ea-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8089929693394"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907055"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="lI8vEugVweY2KuHha8YIz2Luq2A="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:18:09 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="4715484249420", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907089", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="ppEqA3KzLStgyvKkag3lE6IklWw%3D", oauth_signature="69H%2BxvPhbuUB%2B5yY7syUVNhG7LM%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 615b3280-b2fc-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:18:09Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/4d45f000-b2fc-0131-e9ea-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"6bbb7d41df168a314e045e3794583062","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:19:17 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 294
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    Timeout::Error
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:20:36 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/b8febb70-b2fc-0131-e9ec-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5614873617196"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907236"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="PEeTsyez24s4+sF3jrcqYsb51Zo="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:20:38 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="b2889310-b2ee-0131-e9dd-20c9d07c6451", oauth_nonce="2386360914087", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907238", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="l4h6La9ga8Zvavjuli26f293fJs%3D", oauth_signature="tx1t9KhH2KaOYssZcKZK2m9VvTc%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: ba1a3e80-b2fc-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:20:38Z","lti_version":"LTI-2p0","tool_proxy_guid":"b2889310-b2ee-0131-e9dd-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/b8febb70-b2fc-0131-e9ec-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"2837d72101924d7800dbf6f8dea2de25","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:21:36 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:21:55 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/e7dd2e60-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7595201796891"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907315"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ARIIpB0jv3zDgEtq19ya+QrOfZc="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:22:01 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/eb778220-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="b2889310-b2ee-0131-e9dd-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3601913402296"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907321"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="1/nm9sb84BehOObtasploNtetyY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:22:11 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/eefcc0a0-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="eefcbc00-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="898767c4f54afeea09a25fbfa9717794"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:22:17 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="eefcbc00-b2fc-0131-e9ed-20c9d07c6451", oauth_nonce="6805805332550", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907337", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="4mcODiOPxWw4NgQ5KbqpoyDFNM4%3D", oauth_signature="ZEAHAHx0RRTKtn2Mwp25r2hHrKU%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: f4fdb540-b2fc-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:22:17Z","lti_version":"LTI-2p0","tool_proxy_guid":"f4fda7f0-b2fc-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/eefcc0a0-b2fc-0131-e9ed-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"7b8c9b557f5b373c1d7ed3b926412171","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:22:17 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/f500f8f0-b2fc-0131-e9ed-20c9d07c6451",
  "tool_proxy_guid": "f500f8f0-b2fc-0131-e9ed-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:22:22 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/f850d6f0-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="f500f8f0-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="770498476397"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907342"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ZT0gyPiLi9KAUmvxuGqLZgoNHwQ="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:22:26 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="f500f8f0-b2fc-0131-e9ed-20c9d07c6451", oauth_nonce="3463907759206", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907346", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="NBj%2Bc6zFJDMMgN7oW2%2Fj6pYnw2U%3D", oauth_signature="CLtl8aTNL5Cmd0EgCTng2ICg96M%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: fa961ec0-b2fc-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:22:26Z","lti_version":"LTI-2p0","tool_proxy_guid":"f500f8f0-b2fc-0131-e9ed-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/f850d6f0-b2fc-0131-e9ed-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"088c7d3c4884d2edc4d7346cfb3fa7b2","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:23:38 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:24:15 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/3b8bb200-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="f500f8f0-b2fc-0131-e9ed-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8595206312269"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907455"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="qH4RfYTgyLtvO5FrraLqDA3LFvc="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:24:35 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/4499af10-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="4499aaa0-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="f4e2fbfe3ecc3c61d27a3421f337e8bd"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:24:36 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="4499aaa0-b2fd-0131-e9ee-20c9d07c6451", oauth_nonce="7735199285176", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907476", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="04KOK9rp9tUp701%2FrCqidwyfuXI%3D", oauth_signature="ypVkRydu4h%2Bpwc5ycR7D%2BT9Rz%2Fo%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 48423f30-b2fd-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:24:36Z","lti_version":"LTI-2p0","tool_proxy_guid":"484226e0-b2fd-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/4499af10-b2fd-0131-e9ee-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"eb2c763b88156b3925b5abd2e3c37b7d","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:24:37 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/484c6010-b2fd-0131-e9ee-20c9d07c6451",
  "tool_proxy_guid": "484c6010-b2fd-0131-e9ee-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:24:40 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/4a618260-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="484c6010-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="9647074064899"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907480"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="Q6YIjjHy6t2Fj+cOxY9oFxiM38k="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:24:45 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="484c6010-b2fd-0131-e9ee-20c9d07c6451", oauth_nonce="2124053717000", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398907485", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="YVQEWK8K7ly3%2Fqcp3icjsxQt%2Fok%3D", oauth_signature="Ogt0IURrkGS9lSkzweJptOSn3ZM%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 4d9005f0-b2fd-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:24:45Z","lti_version":"LTI-2p0","tool_proxy_guid":"484c6010-b2fd-0131-e9ee-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/4a618260-b2fd-0131-e9ee-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"be211048fd0cb3c44bac503baf5a75a0","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:27:51 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:28:00 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c16d3730-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="484c6010-b2fd-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="2591833077311"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398907680"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="uaD2LUxyKzAC6lzGr8mfsKhHczY="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:37:29 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/124ebd80-b2ff-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="124eb740-b2ff-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="52e369d1a09d4ce9a872e3e34772f3ba"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:37:34 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="124eb740-b2ff-0131-e9ee-20c9d07c6451", oauth_nonce="2599552769734", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398908254", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="UN60doIqNW%2Frcl4flNczNBNrLCU%3D", oauth_signature="HhDp94Xhx80THaQmciFP0eH6yoE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 17cb35d0-b2ff-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:37:34Z","lti_version":"LTI-2p0","tool_proxy_guid":"17cb2840-b2ff-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/124ebd80-b2ff-0131-e9ee-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"22cd15d5b843b503a42270a6eb413ff1","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:37:34 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/17cf62f0-b2ff-0131-e9ee-20c9d07c6451",
  "tool_proxy_guid": "17cf62f0-b2ff-0131-e9ee-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:37:40 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/1b868dc0-b2ff-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="17cf62f0-b2ff-0131-e9ee-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="6561020544134"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398908260"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ZpSLoQMMsVm43P9QfNGfDoUdkN4="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:37:43 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="17cf62f0-b2ff-0131-e9ee-20c9d07c6451", oauth_nonce="6490246935901", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398908263", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="KFgxCucL2jYD3LUg%2FbHyEaw%2BAMk%3D", oauth_signature="vHExFD2%2F36n236msayMlYIY4OEE%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 1ceed650-b2ff-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:37:43Z","lti_version":"LTI-2p0","tool_proxy_guid":"17cf62f0-b2ff-0131-e9ee-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/1b868dc0-b2ff-0131-e9ee-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"1a4f8ac465eb794b90cdd6027782fbbe","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-04-30 18:37:55 -0700
Response: Register ToolProxy with ToolConsumer
Status: 202 Accepted
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-04-30 18:44:23 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/086c1b80-b300-0131-e9ef-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="086c1420-b300-0131-e9ef-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="32b717965763d99c4e1536658a47dd4b"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-04-30 18:44:29 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="086c1420-b300-0131-e9ef-20c9d07c6451", oauth_nonce="1174571471601", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398908669", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="I4uZBhXmhoed93bM4M5EdXGTBFA%3D", oauth_signature="f1DSqjpM3YHKniQ5efWZyU%2BJzvM%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 0ef34f60-b300-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T01:44:29Z","lti_version":"LTI-2p0","tool_proxy_guid":"0ef34150-b300-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/086c1b80-b300-0131-e9ef-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"39054fdc4b65276e0c7007c3568f739d","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 06:42:48 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/6046fa40-b364-0131-e9ef-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="6046f4f0-b364-0131-e9ef-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="7e493e92730cdd4587993da52ca0e315"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-05-01 06:43:00 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="6046f4f0-b364-0131-e9ef-20c9d07c6451", oauth_nonce="6853811671787", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398951780", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="nufu0B0nC1NAhaKXwVXAILkqxqs%3D", oauth_signature="zZ%2FpL9X94dS1tQGj1P2OZ1jaQ9s%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: 6f2b44d0-b364-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T13:43:00Z","lti_version":"LTI-2p0","tool_proxy_guid":"6f2b3460-b364-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/6046fa40-b364-0131-e9ef-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"75d43a52ef717e5b9261794c382cab08","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 06:52:48 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/c9528e20-b365-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="c9528350-b365-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="2b33717fa139cfc0f872a13f509ce735"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-05-01 06:52:54 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="c9528350-b365-0131-e9f0-20c9d07c6451", oauth_nonce="7287332748794", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398952374", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="aHxMVR9VcF0aMmN1N8h2ulGBXrw%3D", oauth_signature="4qT15fd63xmYU1wqY7sXcK56Sd8%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: d1359770-b365-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T13:52:54Z","lti_version":"LTI-2p0","tool_proxy_guid":"d1358700-b365-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/c9528e20-b365-0131-e9f0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"49e8f8edc1b8f1974c7e4e6627ef979b","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-05-01 06:52:54 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/d13fefd0-b365-0131-e9f0-20c9d07c6451",
  "tool_proxy_guid": "d13fefd0-b365-0131-e9f0-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 06:53:00 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/d50d5260-b365-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="d13fefd0-b365-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3559373254215"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398952380"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="aMtBfUR/jVHi+Y56hcBKfbp0FWQ="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-05-01 06:53:02 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="d13fefd0-b365-0131-e9f0-20c9d07c6451", oauth_nonce="3410364916163", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398952382", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="D41%2BzWvTOrRh9lAYaKg%2FDngt6Yw%3D", oauth_signature="DzkYcppbxXlohxRmogpJH%2FA0%2F5w%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: d64ff860-b365-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T13:53:02Z","lti_version":"LTI-2p0","tool_proxy_guid":"d13fefd0-b365-0131-e9f0-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/d50d5260-b365-0131-e9f0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"c40f9e5876f7b4fc54779a10f4103b9d","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-05-01 06:53:02 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 362
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `end_registration_id=' for #&lt;Lti2Tc::Tool:0x007f9184aa4f70&gt;
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 06:55:46 -0700
LtiMessage: Reregister Tool
LaunchUrl: http://localhost:5000/lti2_tp/reregistrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/reregistrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/38131ca0-b366-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyReregistrationRequest"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="d13fefd0-b365-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="2842219453662"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398952546"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="E/kUmEtZkPwS5fAQZIFmQrga1wk="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-05-01 06:55:49 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="d13fefd0-b365-0131-e9f0-20c9d07c6451", oauth_nonce="943638666599", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398952549", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="f4ViewPMj1yTp9EgFLftVDkznXM%3D", oauth_signature="8t%2BcE9otTrpspH12cUOCiQm5tHM%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5376
X-IMS-EndRegistration-ID: 39749870-b366-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T13:55:49Z","lti_version":"LTI-2p0","tool_proxy_guid":"d13fefd0-b365-0131-e9f0-20c9d07c6451","disposition":"reregister","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/38131ca0-b366-0131-e9f0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"424efaf262aba568b399e22591fbe42c","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-05-01 07:00:05 -0700
Response: Register ToolProxy with ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=ISO-8859-1
content-length: 326
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;&lt;TITLE&gt;Internal Server Error&lt;/TITLE&gt;&lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;H1&gt;Internal Server Error&lt;/H1&gt;
    undefined method `tc_profile' for nil:NilClass
    &lt;HR&gt;
    &lt;ADDRESS&gt;
     WEBrick/1.3.1 (Ruby/1.9.3/2013-06-27) at
     localhost:4000
    &lt;/ADDRESS&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 07:00:16 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/d556a9d0-b366-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="d556a440-b366-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="24e091e974c3baf91cf0a4bc22076773"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-05-01 07:00:22 -0700
LtiService: Register ToolProxy with ToolConsumer
POST http://localhost:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="d556a440-b366-0131-e9f0-20c9d07c6451", oauth_nonce="5171815557859", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1398952822", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="cWELWovfAT0QLG7JIf2TxfSr%2BkA%3D", oauth_signature="3EPgzYUiVqlKKFaTF57uAUk0MWA%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5374
X-IMS-EndRegistration-ID: dcb24370-b366-0131-e9eb-20c9d07c6451
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-05-01T14:00:22Z","lti_version":"LTI-2p0","tool_proxy_guid":"dcb23450-b366-0131-e9eb-20c9d07c6451","disposition":"register","tool_consumer_profile":"http://localhost:4000/lti2_tc/tool_consumer_profiles/d556a9d0-b366-0131-e9f0-20c9d07c6451","tool_profile":{"base_url_choice":[{"default_base_url":"http://localhost:5000","selector":{"applies_to":["IconEndpoint","MessageHandler"]}}],"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"parameter":[{"name":"tc_profile_url","variable":"ToolConsumerProfile.url"}],"path":"http://localhost:5000/lti2_tp/reregistrations"}],"product_instance":{"guid":"fd75124a-140e-470f-944c-114d2d92bb40","product_info":{"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"},"product_family":{"code":"assessment-tool","vendor":{"code":"fabericious.org","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"},"name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","website":"{http://localhost:5000}"}},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"}},"service_provider":{"description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"support":{"email":"support@ec2.fabericious.com"},"timestamp":"2012-04-05T09:08:16-04:00"},"support":{"email":"helpdesk@fabericious.com"}},"resource_handler":[{"description":{"default_value":"Settings service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"tool_proxy_custom_url","variable":"ToolProxy.custom.url"},{"name":"tool_proxy_binding_custom_url","variable":"ToolProxyBinding.custom.url"},{"name":"lti_link_custom_url","variable":"LtiLink.custom.url"}],"path":"/settings"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"}},{"description":{"default_value":"Echo service","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"name":"user_primary_email","variable":"Person.email.primary"},{"name":"discipline","variable":"CourseOffering.label"}],"path":"/echoes"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"}},{"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"}],"path":"/books"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"}},{"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"book_location"}],"path":"/bookselections"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"}},{"description":{"default_value":"Interactive resource","key":"resource.description"},"message":[{"enabled_capability":["Result.autocreate"],"message_type":"basic-lti-launch-request","parameter":[{"name":"vbid"},{"name":"result_uri","variable":"Result.uri"}],"path":"/iresources"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"}},{"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"},"message":[{"message_type":"basic-lti-launch-request","parameter":[{"name":"course_label","variable":"CourseOffering.label"}],"path":"/bookshelves"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"}}],"service_offered":[{"@id":"{tc_deployment_url}/lti2_tp/endregistration","@type":"RestService","action":["POST"],"endpoint":"{tc_deployment_url}/lti2_tp/end_registration","format":["application/vnd.ims.lti.v2.toolproxy.id+json"]}]},"security_contract":{"shared_secret":"fe010123e9c9ad5f94df086936434298","tool_service":[{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://localhost:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-05-01 07:00:29 -0700
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 213
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://localhost:4000/tools/e06cf7e0-b366-0131-e9f0-20c9d07c6451",
  "tool_proxy_guid": "e06cf7e0-b366-0131-e9f0-20c9d07c6451"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-05-01 07:04:11 -0700
LtiMessage: Lti Launch
LaunchUrl: http://localhost:5000/echoes
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/echoes" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="473"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Administrator"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/course_page?method=show&course_id=5"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="5"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="DPE001"/&gt;
      &lt;input type="hidden" name="context_title" value="Design of Personal Environments 1"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="5"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_referrer" value="Narcissus"/&gt;
      &lt;input type="hidden" name="custom_pi" value="3.14159"/&gt;
      &lt;input type="hidden" name="custom_user_primary_email" value="admin@lumos.org"/&gt;
      &lt;input type="hidden" name="custom_discipline" value="DPE001"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="e06cf7e0-b366-0131-e9f0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="8851738835867"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1398953051"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="KaqHAS+1R4FB480/4pPKBXDM5ec="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>

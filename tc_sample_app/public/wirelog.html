<link rel="stylesheet" type="text/css" href="wirelog.css" />

<div class="ToolConsumer"><pre>
2014-02-25 14:10:05 -0800
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7e5281b0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="reg_key" value="7e527af0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="reg_password" value="16d761c17ea78bda15a6de23dec67435"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:10:20 -0800
LtiService: Register ToolProxy with ToolConsumer
POST http://rails.kinexis.com:4000/lti2_tc/tools
Headers:
Authorization: OAuth oauth_consumer_key="7e527af0-8097-0131-169c-406c8f40a599", oauth_nonce="6688625465699", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393366220", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="boJRSPiIrAt3RtpbEQ8HUcrtNCk%3D", oauth_signature="PD4HMt3DnG0PWxzv0xmOtQfnhpw%3D"
Content-Type: application/vnd.ims.lti.v2.toolproxy+json
Content-Length: 5191
Body:
{"@context":["http://purl.imsglobal.org/ctx/lti/v2/ToolProxy"],"@type":"ToolProxy","@id":"ToolProxyProposal_at_2014-02-25T22:10:20Z","lti_version":"LTI-2p0","tool_proxy_guid":"8a123220-8097-0131-169b-406c8f40a599","tool_consumer_profile":"http://rails.kinexis.com:4000/lti2_tc/tool_consumer_profiles/7e5281b0-8097-0131-169c-406c8f40a599","tool_profile":{"product_instance":{"product_info":{"product_version":"10.3","technical_description":{"default_value":"Support provided for all LTI 1 extensions as well as LTI 2","key":"tool.technical"},"product_name":{"default_value":"LTI2 BookTools","key":"tool.name"},"product_family":{"code":"assessment-tool","vendor":{"website":"{http://rails.kinexis.com:5000}","code":"fabericious.org","name":{"default_value":"Fab","key":"tool.vendor.name"},"timestamp":"2012-04-05T09:08:16-04:00","contact":{"email":"info@fabericious.com"},"description":{"default_value":"Fabericious is a leading provider of interactive tools for education","key":"tool.vendor.description"}}},"description":{"default_value":"Fabericious reflowable ePub3 Textbook","key":"tool.description"}},"support":{"email":"helpdesk@fabericious.com"},"guid":"fd75124a-140e-470f-944c-114d2d92bb40","service_provider":{"support":{"email":"support@ec2.fabericious.com"},"service_provider_name":{"default_value":"Amazon Cloud","key":"service_provider.name"},"guid":"18e7ea50-3d6d-4f6b-aff2-ed3ab577716c","description":{"default_value":"Provider of high performance managed hosting environments","key":"service_provider.description"},"timestamp":"2012-04-05T09:08:16-04:00"}},"lti_version":"LTI-2p0","message":[{"message_type":["ToolProxyRegistrationRequest","ToolProxyReregistrationRequest"],"path":"http://rails.kinexis.com:5000/reregistrations","parameter":[{"variable":"ToolConsumerProfile.url","name":"tc_profile_url"}]}],"resource_handler":[{"message":[{"path":"/settings","parameter":[{"variable":"ToolProxy.custom.url","name":"tool_proxy_custom_url"},{"variable":"ToolProxyBinding.custom.url","name":"tool_proxy_binding_custom_url"},{"variable":"LtiLink.custom.url","name":"lti_link_custom_url"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Settings","key":"resource.name"},"resource_type":{"code":"setting"},"description":{"default_value":"Settings service","key":"resource.description"}},{"message":[{"path":"/echoes","parameter":[{"fixed":"Narcissus","name":"referrer"},{"fixed":"3.14159","name":"pi"},{"variable":"Person.email.primary","name":"user_primary_email"},{"variable":"CourseOffering.label","name":"discipline"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Echo","key":"resource.name"},"resource_type":{"code":"echo"},"description":{"default_value":"Echo service","key":"resource.description"}},{"message":[{"path":"/books","parameter":[{"name":"vbid"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Book","key":"resource.name"},"resource_type":{"code":"book"},"description":{"default_value":"VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/bookselections","parameter":[{"name":"vbid"},{"name":"book_location"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"BookSelection","key":"resource.name"},"resource_type":{"code":"bookselection"},"description":{"default_value":"Deep-linked VitalSource reader for XML, PDF, and ePub content","key":"resource.description"}},{"message":[{"path":"/iresources","enabled_capability":["Result.autocreate"],"parameter":[{"name":"vbid"},{"variable":"Result.uri","name":"result_uri"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"InteractiveResource","key":"resource.name"},"resource_type":{"code":"iresource"},"description":{"default_value":"Interactive resource","key":"resource.description"}},{"message":[{"path":"/bookshelves","parameter":[{"variable":"CourseOffering.label","name":"course_label"}],"message_type":"basic-lti-launch-request"}],"name":{"default_value":"Bookshelf","key":"resource.name"},"resource_type":{"code":"bookshelf"},"description":{"default_value":"VitalSource Bookshelf","key":"resource.description"}}],"base_url_choice":[{"selector":{"applies_to":["IconEndpoint","MessageHandler"]},"default_base_url":"http://rails.kinexis.com:5000"}]},"security_contract":{"shared_secret":"b146e53390e3974fe6e5a86c82cf77ef","tool_service":[{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/tools","action":["POST"]},{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/tools/{tool_proxy_guid}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/resources/Result/{sourcedId}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/ltilink/{link_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}/context/{context_id}","action":["GET","PUT"]},{"@type":"RestServiceProfile","service":"http://rails.kinexis.com:4000/lti2_tc/tool_settings/{tool_proxy_guid}","action":["GET","PUT"]}]}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:10:20 -0800
Response: Register ToolProxy with ToolConsumer
Status: 201 Created
Headers:
content-type: application/vnd.ims.lti.v2.toolproxy.id+json; charset=utf-8
content-length: 221
{
  "@context": "http://purl.imsglobal.org/ctx/lti/v2/ToolProxyId",
  "@type": "ToolProxy",
  "@id": "http://rails.kinexis.com:4000/tools/8a17fbc0-8097-0131-169c-406c8f40a599",
  "tool_proxy_guid": "8a17fbc0-8097-0131-169c-406c8f40a599"
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:19:45 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/settings
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/settings" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="1"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_binding_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2"/&gt;
      &lt;input type="hidden" name="custom_lti_link_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="9510592655697"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393366779"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="7hYPz4Pc5OgbcsickQKOI15af74="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:19:45 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="1564655198090", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393366785", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="Rtt1wiuszalCI%2BxesMnIG74WcBw%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:19:45 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 2
{
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:19:45 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="61858837862", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393366785", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="%2FHHbBTBnQqn83lZhLzPRAbhtwOk%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:19:45 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 2
{
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:19:45 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="577881965821", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393366785", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="xY%2F4A9a8IPF3zT0Ps4zjNzpS96w%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:19:45 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 2
{
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:26 -0800
LtiService: Put settings for ToolProxy
PUT http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="9162008917212", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393367786", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="z%2BRmIWEN1ehKFMEIyNT42Ym4hD0%3D", oauth_signature="K8lvXe5RELDvReixWaVDY9pmHuE%3D"
Content-Type: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 27
Body:
{
  "client_id": "test12"
}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:36:26 -0800
Response: Put settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/json; charset=utf-8
content-length: 29
Successfully updated 1 values


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:26 -0800
LtiService: Put settings for ToolProxy
PUT http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="2242116197711", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393367786", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="XhxsVfJCB6%2BbTdc%2Fcot08YVHOq0%3D", oauth_signature="McUAMirJd5mqlGLD8C6zlhMqnHc%3D"
Content-Type: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 22
Body:
{
  "crs": "smpl101"
}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:36:26 -0800
Response: Put settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/json; charset=utf-8
content-length: 29
Successfully updated 1 values


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:36:37 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/settings
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/settings" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="1"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_binding_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2"/&gt;
      &lt;input type="hidden" name="custom_lti_link_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="959771069949"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393367797"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="yUcBmmcjFQBFldKk4m8RYAclqGg="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:37 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="7376300721355", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393367797", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="V3tHxw9HVxhSpS%2FmLtEkr1t1S08%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:36:37 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 22
{
  "client_id": "test12"
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:37 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="3730186447366", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393367797", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="KiAkVbTvXfeGEo0wmUin1FCr34k%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:36:37 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 17
{
  "crs": "smpl101"
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:37 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="3861498289652", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393367797", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="uNAilhpcTZSKJdNjJwGu5Y8W0x0%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:36:37 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 2
{
}


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:36:47 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/books
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/books" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="7"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3707822663191"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393367807"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="dpExbQ43+/TvpCivqcKvZ9/oY/k="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:36:48 -0800
LtiMessage: Launch to external tool
LaunchUrl: http://bc.vitalsource.com/books/book
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://bc.vitalsource.com/books/book" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-1p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="12345"/&gt;
      &lt;input type="hidden" name="user_id" value="lti2.user"/&gt;
      &lt;input type="hidden" name="roles" value="student"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="normalized_role" value="instructor"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="640e19b0-5ff8-11e2-bcfd-0800200c9a66"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5752386633125"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393367808"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="wOHpuTyYvZ2QOC8ZMpszS6crJMQ="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:49:12 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/bookselections
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/bookselections" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="10"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_book_location" value="outline/3"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1816965910078"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368552"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="YFdx2IGEhTqYoTGAZAhR5QrVljE="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:49:13 -0800
LtiMessage: Launch to external tool
LaunchUrl: http://bc.vitalsource.com/books/book
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://bc.vitalsource.com/books/book" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-1p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="12345"/&gt;
      &lt;input type="hidden" name="user_id" value="lti2.user"/&gt;
      &lt;input type="hidden" name="roles" value="student"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_book_location" value="outline/3"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="normalized_role" value="instructor"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="640e19b0-5ff8-11e2-bcfd-0800200c9a66"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="2269275180168"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368553"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="ZHtqwZpuIRbLqyg0kOOxdgpBQCo="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:49:25 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/bookshelves
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/bookshelves" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="16"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_course_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3747822153164"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368565"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="CVZnY/AsP4Ej3plSVbP7IjN0n/Y="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:49:25 -0800
LtiMessage: Launch to external tool
LaunchUrl: http://bc.vitalsource.com/books
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://bc.vitalsource.com/books" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-1p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="12345"/&gt;
      &lt;input type="hidden" name="user_id" value="lti2.user"/&gt;
      &lt;input type="hidden" name="roles" value="student"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_course_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="normalized_role" value="instructor"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="640e19b0-5ff8-11e2-bcfd-0800200c9a66"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1614670447218"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368565"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="U3GsKQX56HU5vwBEa0I7Y96tsdw="/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:52:59 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5833590938429"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368779"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="6kGUBOCGLm++az2O6RQhUofhSE0="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:53:04 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="3614339548897", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393368784", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="C6GR7kmAV8t8yw3QXiZXkfIgiwo%3D", oauth_signature="K1O6bwzsxvwUTBeAqx2KcQ1PDNg%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.78"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:53:04 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 12348
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;undefined local variable or method `oauth_validation' for #&lt;ResultsController:0x007fb4c70c9bc0&gt;&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;1&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:54:46 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="9878139675454"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393368886"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="VLu7yxZHVAJTvTa/FOcRmTpjroo="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 14:54:53 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="6330227569852", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393368893", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="wO4mDaeEGuHoh3sZGaYWmI%2B%2B%2BMs%3D", oauth_signature="K9S0frSN0Y%2BjnYstDQ8Fjy3TYrg%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.74"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 14:54:53 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 12348
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;undefined local variable or method `oauth_validation' for #&lt;ResultsController:0x007fb4c76b9198&gt;&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;1&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 14:58:47 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5290695999843"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393369127"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="rL/uJyTQh6XkBEhwuvWzaSOrWfc="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:01:15 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="3116430424751", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393369268", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="rRWMI2IPI5B9XD6fAQpLIEQxcj0%3D", oauth_signature="q8MWZR8kQSg2%2FDHLxhLCMq67UWQ%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.79"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:01:15 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 12348
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;undefined local variable or method `oauth_validation' for #&lt;ResultsController:0x007fb4c2bd8110&gt;&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;1&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:13:08 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="786759729177"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393369988"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="GaCIfa7HNTZoNnVPyjwXJejqJH8="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:21:08 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="2650859663372", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393370468", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="5lZ3pRwj36%2Fj2338w9fHluN1wjU%3D", oauth_signature="i7HffnwYOz8VYWwIhflEdYsCg7k%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.13"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:21:08 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 12348
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;undefined local variable or method `oauth_validation' for #&lt;ResultsController:0x007fb4c4d30fb0&gt;&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;activesupport (3.2.6) lib/active_support/callbacks.rb:407:in `_run__2889486297484053636__process_action__2512701677715646453__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__2713656788669219899__call__1997427309203793199__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;1&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:21:14 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3796399659927"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393370474"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="IDtA0yygVDXgoZxNrtk4xufi4U4="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:22:18 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="3767538838234", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393370538", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="%2BWmaA1mix%2B6CBjjQoti2YJXXZ2M%3D", oauth_signature="j%2FU8oJGedFCs7kji1X2uEo7e0jY%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.21"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:24:45 -0800
Response: Submit Result to ToolConsumer
Status: 200 OK
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:26:16 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/2"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="3425572037689"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393370776"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="Hh4DR5IEPmtfJjProeidwiCeMGs="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:26:24 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="6871393388662", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393370784", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="GxbRjkwhU2b97D%2FYaJeI5Nb%2BG84%3D", oauth_signature="GJDD37Zs2huQOAX8Yu831GTxyfw%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.36"}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:53:43 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/3"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1771261851608"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393372423"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="vaHJLt1S/JOrex7H8bD8an9SvGg="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:53:53 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/3
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="5230067166550", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372433", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="MX%2FUSaS3s1bsbYW5s%2FeGLLsiAPg%3D", oauth_signature="O%2FUnqZ7cAk02jLfRU4nmKXBtXJc%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.53"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:53:53 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 13377
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;uninitialized constant Lti2Tc::Authorizer::OAuthRequest&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;app/controllers/results_controller.rb:5:in `pre_process'
app/controllers/results_controller.rb:25:in `update'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;/Users/johntibbetts/git/LTI2/lti2_tc/app/services/lti2_tc/authorizer.rb:4:in `pre_process_tenant'
actionpack (3.2.6) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.6) lib/active_support/callbacks.rb:403:in `_run__4206791652073971011__process_action__1531040144441278118__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__4185795181684933900__call__351089934547613615__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;/Users/johntibbetts/git/LTI2/lti2_tc/app/services/lti2_tc/authorizer.rb:4:in `pre_process_tenant'
app/controllers/results_controller.rb:5:in `pre_process'
app/controllers/results_controller.rb:25:in `update'
actionpack (3.2.6) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.6) lib/active_support/callbacks.rb:403:in `_run__4206791652073971011__process_action__1531040144441278118__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__4185795181684933900__call__351089934547613615__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;3&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:55:23 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/4"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1562410675238"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393372523"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="qnWcW0j6kUgVcpJhTQ1diOzFeGE="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:55:28 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/4
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="6116832636679", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372528", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="VPOq6Zjc8yxorcHWaH92TI%2BdXJU%3D", oauth_signature="gxjDMXpiDb2Te6YAFgfDEEapKF0%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.55"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:57:25 -0800
Response: Submit Result to ToolConsumer
Status: 500 Internal Server Error
Headers:
content-type: text/html; charset=utf-8
content-length: 13377
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;title&gt;Action Controller: Exception caught&lt;/title&gt;
  &lt;style&gt;
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: helvetica, verdana, arial, sans-serif;
      font-size:   13px;
      line-height: 18px;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      font-size: 11px;
      white-space: pre-wrap;
    }

    a { color: #000; }
    a:visited { color: #666; }
    a:hover { color: #fff; background-color:#000; }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;
  NameError
    in ResultsController#update
&lt;/h1&gt;
&lt;pre&gt;uninitialized constant Lti2Tc::Authorizer::OAuthRequest&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;Rails.root: /Users/johntibbetts/git/LTI2/tc_sample_app&lt;/code&gt;&lt;/p&gt;

&lt;div id="traces"&gt;
    &lt;a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;"&gt;Application Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;"&gt;Framework Trace&lt;/a&gt; |
    &lt;a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;"&gt;Full Trace&lt;/a&gt; 

    &lt;div id="Application-Trace" style="display: block;"&gt;
      &lt;pre&gt;&lt;code&gt;app/controllers/results_controller.rb:5:in `pre_process'
app/controllers/results_controller.rb:25:in `update'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Framework-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;/Users/johntibbetts/git/LTI2/lti2_tc/app/services/lti2_tc/authorizer.rb:4:in `pre_process_tenant'
actionpack (3.2.6) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.6) lib/active_support/callbacks.rb:403:in `_run__4206791652073971011__process_action__1531040144441278118__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__4185795181684933900__call__351089934547613615__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    &lt;div id="Full-Trace" style="display: none;"&gt;
      &lt;pre&gt;&lt;code&gt;/Users/johntibbetts/git/LTI2/lti2_tc/app/services/lti2_tc/authorizer.rb:4:in `pre_process_tenant'
app/controllers/results_controller.rb:5:in `pre_process'
app/controllers/results_controller.rb:25:in `update'
actionpack (3.2.6) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.6) lib/active_support/callbacks.rb:403:in `_run__4206791652073971011__process_action__1531040144441278118__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.6) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.6) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.6) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.6) lib/action_controller/metal/params_wrapper.rb:206:in `process_action'
activerecord (3.2.6) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.6) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.6) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.6) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.6) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.4) lib/journey/router.rb:68:in `block in call'
journey (1.0.4) lib/journey/router.rb:56:in `each'
journey (1.0.4) lib/journey/router.rb:56:in `call'
actionpack (3.2.6) lib/action_dispatch/routing/route_set.rb:600:in `call'
warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
warden (1.2.3) lib/warden/manager.rb:34:in `catch'
warden (1.2.3) lib/warden/manager.rb:34:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:35:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/head.rb:14:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.6) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.6) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `_run__4185795181684933900__call__351089934547613615__callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.6) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.6) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.6) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.6) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.6) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.6) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.6) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.6) lib/rails/engine.rb:479:in `call'
railties (3.2.6) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.6) lib/rails/rack/log_tailer.rb:17:in `call'
rack (1.4.1) lib/rack/handler/webrick.rb:59:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/johntibbetts/.rbenv/versions/1.9.3-p448/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;



&lt;h2 style="margin-top: 30px"&gt;Request&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Parameters&lt;/b&gt;: &lt;pre&gt;{&quot;id&quot;=&gt;&quot;4&quot;}&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('session_dump').style.display='block'; return false;"&gt;Show session dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="session_dump" style="display:none"&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="#" onclick="document.getElementById('env_dump').style.display='block'; return false;"&gt;Show env dump&lt;/a&gt;&lt;/p&gt;
&lt;div id="env_dump" style="display:none"&gt;&lt;pre&gt;GATEWAY_INTERFACE: &quot;CGI/1.1&quot;
REMOTE_ADDR: &quot;127.0.0.1&quot;
REMOTE_HOST: &quot;localhost&quot;
SERVER_NAME: &quot;rails.kinexis.com&quot;
SERVER_PROTOCOL: &quot;HTTP/1.1&quot;&lt;/pre&gt;&lt;/div&gt;


&lt;h2 style="margin-top: 30px"&gt;Response&lt;/h2&gt;
&lt;p&gt;&lt;b&gt;Headers&lt;/b&gt;: &lt;pre&gt;None&lt;/pre&gt;&lt;/p&gt;



&lt;/body&gt;
&lt;/html&gt;


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:57:48 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/4"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="5926398848083"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393372668"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="0yQJC1VwpuA9s9erZck3Rs4WH2o="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:57:55 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/4
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="8352949243734", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372675", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="e4MHf2CwMkffsMJEL9EhJE7pRw8%3D", oauth_signature="B7MNrfcPXXSX529%2Bppl5FI73EzU%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.77"}}


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 15:58:37 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/iresources
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/iresources" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="13"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_vbid" value="L-999-74180"/&gt;
      &lt;input type="hidden" name="custom_result_uri" value="http://rails.kinexis.com:4000/results/4"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="1224347255459"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393372717"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="R/ZTjEpGl3oc6h54sNTfhSNlmXI="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 15:58:46 -0800
LtiService: Submit Result to ToolConsumer
PUT http://rails.kinexis.com:4000/results/4
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="5306236234334", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372726", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="aJWYKGgIVO88wkgKuV7idqzv5PI%3D", oauth_signature="Lw8CyCGRXGl%2BrnOE39n8%2BkOzpBg%3D"
Content-Type: application/vnd.ims.lis.v2.Result+json
Content-Length: 132
Body:
{"@context":"http://www.imsglobal.org/imspurl/lis/v2/ctx/Result","@type":"Result","resultScore":{"@type":"decimal","@value":"0.64"}}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 15:59:03 -0800
Response: Submit Result to ToolConsumer
Status: 200 OK
Headers:
content-type: text/html; charset=utf-8
content-length: 1
 


</div></pre>
<div class="ToolConsumer"><pre>
2014-02-25 16:00:54 -0800
LtiMessage: Lti Launch
LaunchUrl: http://rails.kinexis.com:5000/settings
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://rails.kinexis.com:5000/settings" target="_blank"
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="lti_message_type" value="basic-lti-launch-request"/&gt;
      &lt;input type="hidden" name="resource_link_id" value="1"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="Instructor"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://rails.kinexis.com:4000/admin/course_page?method=show&course_id=2"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;
      &lt;input type="hidden" name="context_id" value="2"/&gt;
      &lt;input type="hidden" name="launch_presentation_locale" value="en_US"/&gt;
      &lt;input type="hidden" name="context_label" value="SMPL101A"/&gt;
      &lt;input type="hidden" name="context_title" value="Nursing Compendium"/&gt;
      &lt;input type="hidden" name="lis_course_section_sourcedid" value="2"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_product_family_code" value="LuMoS"/&gt;
      &lt;input type="hidden" name="tool_consumer_info_version" value="3.1"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="custom_tool_proxy_binding_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2"/&gt;
      &lt;input type="hidden" name="custom_lti_link_custom_url" value="http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1"/&gt;
      &lt;input type="hidden" name="custom_client_id" value="test12"/&gt;
      &lt;input type="hidden" name="custom_crs" value="smpl101"/&gt;
      &lt;input type="hidden" name="oauth_consumer_key" value="8a17fbc0-8097-0131-169c-406c8f40a599"/&gt;
      &lt;input type="hidden" name="oauth_nonce" value="7493534926228"/&gt;
      &lt;input type="hidden" name="oauth_signature_method" value="HMAC-SHA1"/&gt;
      &lt;input type="hidden" name="oauth_timestamp" value="1393372854"/&gt;
      &lt;input type="hidden" name="oauth_version" value="1.0"/&gt;
      &lt;input type="hidden" name="oauth_callback" value="about:blank"/&gt;
      &lt;input type="hidden" name="oauth_signature" value="astw+lD7dho9MhOjJ1ej2ZZB9vs="/&gt;

      &lt;a href="/admin/launches" target="_self"&gt;Return to Admin&lt;/a&gt;

        
&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 16:00:55 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="5923183626142", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372855", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="h%2B6TZiC5hS1UdRAJdtzbjnG%2Bs90%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 16:00:55 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 22
{
  "client_id": "test12"
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 16:00:55 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="4800902946989", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372855", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="I9Vf7djNdpqHc5vN80K%2FTJN%2B6%2FI%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 16:00:55 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 17
{
  "crs": "smpl101"
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 16:00:55 -0800
LtiService: Get settings for ToolProxy
GET http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/ltilink/1
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="250619204935", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372855", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="2jmj7l5rSw0yVb%2FvlWAYkK%2FYBwk%3D", oauth_signature="tKo8aR7bypY7w%2FXyoqCyF3P8Ez0%3D"
Content-Type: 
Accept: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 0
Body:



</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 16:00:55 -0800
Response: Get settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/vnd.ims.lti.v2.toolsettings.simple+json; charset=utf-8
content-length: 2
{
}


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 16:00:58 -0800
LtiService: Put settings for ToolProxy
PUT http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="6192323583260", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372858", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="z%2BRmIWEN1ehKFMEIyNT42Ym4hD0%3D", oauth_signature="PPgOLByPsGtqt9WUYyM%2B5Pw136Q%3D"
Content-Type: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 27
Body:
{
  "client_id": "test12"
}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 16:00:58 -0800
Response: Put settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/json; charset=utf-8
content-length: 29
Successfully updated 1 values


</div></pre>
<div class="ToolProvider"><pre>
2014-02-25 16:00:58 -0800
LtiService: Put settings for ToolProxy
PUT http://rails.kinexis.com:4000/lti2_tc/tool_settings/8a17fbc0-8097-0131-169c-406c8f40a599/context/2
Headers:
Authorization: OAuth oauth_consumer_key="8a17fbc0-8097-0131-169c-406c8f40a599", oauth_nonce="5175535446595", oauth_signature_method="HMAC-SHA1", oauth_timestamp="1393372858", oauth_version="1.0", oauth_callback="about%3Ablank", oauth_body_hash="XhxsVfJCB6%2BbTdc%2Fcot08YVHOq0%3D", oauth_signature="rmCdV75Eg9hsJrLcs8zP3x8X0XY%3D"
Content-Type: application/vnd.ims.lti.v2.toolsettings.simple+json
Content-Length: 22
Body:
{
  "crs": "smpl101"
}


</div></pre>
<div class="ToolProviderResponse"><pre>
2014-02-25 16:00:58 -0800
Response: Put settings for ToolProxy
Status: 200 OK
Headers:
content-type: application/json; charset=utf-8
content-length: 29
Successfully updated 1 values


</div></pre>
<div class="ToolConsumer"><pre>
2014-03-12 10:55:43 -0700
LtiMessage: Request Tool Registration
LaunchUrl: http://localhost:5000/lti2_tp/registrations
&lt;div id="ltiLaunchFormSubmitArea"&gt;
  &lt;form action="http://localhost:5000/lti2_tp/registrations" 
    name="ltiLaunchForm" id="ltiLaunchForm" method="post"
    encType="application/x-www-form-urlencoded"&gt;
      &lt;input type="hidden" name="lti_message_type" value="ToolProxyRegistrationRequest"/&gt;
      &lt;input type="hidden" name="lti_version" value="LTI-2p0"/&gt;
      &lt;input type="hidden" name="user_id" value="2"/&gt;
      &lt;input type="hidden" name="roles" value="urn:lti:sysrole:ims/lis/SysAdmin"/&gt;
      &lt;input type="hidden" name="tc_profile_url" value="http://localhost:4000/lti2_tc/tool_consumer_profiles/71fdc2b0-8c3d-0131-16c0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_key" value="71fdb7c0-8c3d-0131-16c0-20c9d07c6451"/&gt;
      &lt;input type="hidden" name="reg_password" value="6643c0e472f7c7f2d7ccb516511a6cd1"/&gt;
      &lt;input type="hidden" name="launch_presentation_return_url" value="http://localhost:4000/admin/tool_actions"/&gt;
      &lt;input type="hidden" name="launch_presentation_document_target" value="window"/&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;script language="javascript"&gt;
  document.ltiLaunchForm.submit();
&lt;/script&gt;


</div></pre>
